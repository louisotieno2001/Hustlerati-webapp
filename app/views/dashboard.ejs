<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>
    <link rel="icon" href="/images/logo1.png" type="image/x-icon">
    <link rel="stylesheet" href="/styles/dashboard.css">
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
</head>
<body>
    <div class="top-menu" id="top-menu">
        <img src="/images/logo1.png" alt="Logo Image" srcset="" style="height: 60px; width: 60px;">
        <span class="material-symbols-outlined" id="open-menu">menu</span>
        <span class="material-symbols-outlined" id="close-menu">close</span>
        <div class="sub-menu" id="sub-menu">
            <div class="link-item">
                <span class="material-symbols-outlined">grid_view</span>
                <a href="/home" class="menu-link" title="Dashboard">Dashboard</a>
            </div>
            <div class="link-item">
                <span class="material-symbols-outlined">local_convenience_store</span>
                <a href="/home" class="menu-link" title="Marketplace">Marketplace</a>
            </div>
            <div class="link-item">
                <span class="material-symbols-outlined">monitoring</span>
                <a href="/home" class="menu-link" title="Investor Insights">Investor Insights</a>
            </div>
            <div class="link-item">
                <span class="material-symbols-outlined">newspaper</span>
                <a href="/home" class="menu-link" title="News feed">News Feed</a>
            </div>
            <div class="link-item">
                <span class="material-symbols-outlined">account_circle</span>
                <a href="/home" class="menu-link" title="Profile">Profile</a>
            </div>
            <div class="link-item"><span class="material-symbols-outlined">
                    gavel
                </span><a href="" id="terms">Terms of service</a></div>
        </div>
    </div>
    <div class="display">
        <div class="business-card">
            <div class="business-details">
                <div class="profile-pic" id="profile-pic"
                    style="background-image: url('/uploads/<%= userData.profile_pic %>'); background-size: cover; background-position: center;">
                </div>
                <div class="user-data">
                    <span class="material-symbols-outlined">
                        storefront
                    </span>
                    <h4>
                        <%= userData.business_name %>
                    </h4>
                </div>
                <div class="user-data">
                    <span class="material-symbols-outlined">
                        location_city
                    </span>
                    <h4>
                        <%= userData.business_niche %>
                    </h4>
                </div>
                <div class="user-data">
                    <span class="material-symbols-outlined">
                        phone_enabled
                    </span>
                    <h4>
                        <%= userData.business_phone %>
                    </h4>
                </div>
                <div class="user-data">
                    <span class="material-symbols-outlined">
                        location_on
                    </span>
                    <h4>
                        <%= userData.location %>
                    </h4>
                </div>
                <button class="button-87" id="post">Post content</button>
                <h4>Note that you only post in this section to advertise your presence so everytime you post afresh the previous
                    post get replaed by you new post. To post multiple products that can be accessed by your customers, use the SHELF to the right of this page</h4>
                <dialog id="post-dialog">
                    <button class="button-87" id="pick-image">Pick image</button>
                    <input type="file" id="fileInput" accept="image/*" capture style="display:none;" name="picture"
                        enctype="multipart/form-data">
                    <div class="preview" id="preview">

                    </div>
                    <div class="input-div">
                        <span class="material-symbols-outlined">
                            title
                        </span>
                        <input type="text" id="title" name="title" required placeholder="Title">
                    </div>
                    <div class="body-div">
                        <span class="material-symbols-outlined">
                            list_alt
                        </span>
                        <textarea name="body" id="body" cols="30" rows="10"
                            placeholder="What do you wan to say..."></textarea>
                    </div>
                    <button class="button-87" id="post-submit">Submit</button>
                </dialog>
            </div>
        </div>
        <div class="add-to-shelf">
            <div class="shelf-preview" id="shelf-preview">
                <% if (products && products.length> 0) { %>
                    <% products.forEach(product=> { %>
                        <div class="shelf-item">
                            <div class="product-image"
                                style="background-image: url('/uploads/<%= product.item_image %>');"></div>
                            <h3>
                                <%= product.item_name %>
                            </h3>
                            <p>
                                Quantity: <%= product.item_quantity %>
                            </p>
                            <p><strong>Price: <%= product.item_price %></strong></p>
                            <p>Condition: <%= product.item_condition %>
                            </p>
                            <p>Status: <%= product.item_availability %>
                            </p>
                            <button class="remove-item" data-card-id="<%= product.id %>">Remove item</button>
                        </div>
                        <% }); %>
                    <% } else { %>
                    <p>No items found on your shelf. Add some cool stuff! ðŸ›’</p>
                <% } %>
            </div>
            <div class="feedback-div" id="feedback-div">
                <p class="feedback" id="success"></p>
                <p class="feedback" id="error"></p>
            </div>
            <dialog id="shelf-dialog">
                <button class="button-87" id="item_image">Pick image</button>
                <input type="file" id="itemImageInput" accept="image/*" capture style="display:none;" name="picture"
                    enctype="multipart/form-data">
                <div class="preview" id="item_preview">

                </div>
                <div class="input-div">
                    <input type="text" id="item_name" name="item_name" required placeholder="Item name">
                </div>
                <div class="input-div">
                    <input type="text" id="item_quantity" name="item_quantity" required placeholder="Item quantity">
                </div>
                <div class="input-div">
                    <input type="text" id="item_price" name="item_price" required placeholder="Item unit price">
                </div>
                <div class="input-div">
                    <select name="item_condition" id="item_condition">
                        <option value="Brand new">Brand new</option>
                        <option value="Good">Good</option>
                        <option value="Refurbished">Refurbished</option>
                    </select>
                </div>
                <div class="input-div">
                    <select name="item_availability" id="item_availability">
                        <option value="Available">In stock</option>
                        <option value="Depleted">Out of stock</option>
                    </select>
                </div>
                <div class="body-div">
                    <span class="material-symbols-outlined">
                        list_alt
                    </span>
                    <textarea name="item_description" id="item_description" cols="30" rows="10"
                        placeholder="Item description"></textarea>
                </div>
                <button class="button-87" id="submit_item">Submit</button>
            </dialog>
            <button class="button-87" id="add_to_shelf">+ Add to shelf</button>
        </div>
    </div>
    <script src="/scripts/dashboard.js"></script>
</body>
</html>